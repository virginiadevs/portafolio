---
import { basics } from "@/data/cv.json";
import Section from "@/components/Section.astro";
import Social from "@/components/sections/Social.astro";
import Location from "@/icons/Location.astro";

const { name, label, image, location, summary, availability } = basics;
const { city, region } = location;
const active = availability == 1 ? "Disponible para trabajar" : "";
---

<Section>
    <div class="container">
        <figure>
            <img src={image} alt={name}>
        </figure>

        <div class="info">
            <h2>{name}</h2>
            <h3>{label}</h3>
            <h4>
                <span><Location /></span>
                <span>{city}, {region}</span>
            </h4>

            <p>{summary}</p>
            <Social />
        </div>
    </div>    
</Section>

<style>
    .container {
        display: flex;
        flex-direction: row;
        gap: 1.5rem;
        
        & figure {
            width: 200px;
            display: grid;
            place-items: baseline;
            padding: 1rem 0 0;

            & img {
                width: 100%;
                filter: drop-shadow(0 2px 3px #000000a4);
            }
        }

        & .info {
            display: flex;
            flex-direction: column;
            gap: .5rem;

            & h2 {
                font-size: 2rem;
                margin-bottom: -.5rem;
                letter-spacing: -0.025rem;
            }

            & h3 {
                font-size: 1.1rem;
            }

            & h4 {
                display: flex;
                gap: 0 .3rem;
                align-items: start;
                letter-spacing: -0.05rem;
            }

            & p {
                padding-bottom: .5rem;
            }
        }
    }

    @media (width < 500px) {
        .container {
            flex-direction: column;
            gap: 1rem;
            & figure { width: 64px; }
            & .info h1 { font-size: 1.5rem; }
            & .info h2 { font-size: .9rem; }
        }
    }
</style>